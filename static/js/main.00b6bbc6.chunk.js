(this.webpackJsonpremonter=this.webpackJsonpremonter||[]).push([[0],{36:function(e,t,n){e.exports=n(54)},54:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),i=n(33),c=n.n(i),o=n(6),u=n(18),l=n(19),s=function(e,t){for(var n={},r=function(){var r=i[a];n=Object(o.a)(Object(o.a)({},n),{},Object(l.a)({},r,(function(n){return e(t[r](n))})))},a=0,i=Object.keys(t);a<i.length;a++)r();return n},b=function(e,t){return Object.keys(e).map((function(t){return e[t]})).findIndex((function(e){return e.id===t}))},f=function(e,t){var n=t.payload,r=-1;switch(t.type){case"addItem":return Object(o.a)(Object(o.a)({},e),{},Object(l.a)({},e.length,n.item));case"setItems":return Object(o.a)({},n.items);case"updateItem":return r=b(e,n.id),Object(o.a)(Object(o.a)({},e),{},Object(l.a)({},r,Object(o.a)(Object(o.a)({},e[r]),n.item)));case"setActiveLabel":r=b(e,n.itemId);var a=Object(o.a)({},e[r]);return Object.keys(a.labels).map((function(e){return a.labels[e].active=n.labelId===e})),Object(o.a)(Object(o.a)({},e),{},Object(l.a)({},r,a));default:return e}},p={setItems:function(e){return{type:"setItems",payload:e}},addItem:function(e){return{type:"addItem",payload:e}},updateItem:function(e){return{type:"updateItem",payload:e}},setActiveLabel:function(e){return{type:"setActiveLabel",payload:e}}},d=function(e,t){var n=t.payload;switch(t.type){case"setUser":return Object(o.a)({},n.user);default:return e}},O={setUser:function(e){return{type:"setUser",payload:e||{}}}},j={setlist:{},user:{}},v=function(e,t){var n=e.setlist,r=e.user;return{setlist:f(n,t),user:d(r,t)}},g=function(e){return s(e,p)},h=function(e){return s(e,O)},m=function(e){return{setlist:g(e),user:h(e)}},x=Object(r.createContext)(),y=function(){var e=Object(r.useContext)(x),t=Object(u.a)(e,2),n=t[0],a=t[1];return{state:n,actions:m(a),getters:{}}},w=function(e){var t=e.reducer,n=e.initialState,i=e.children;return a.a.createElement(x.Provider,{value:Object(r.useReducer)(t,n)},i)},k=function(e){return a.a.createElement(w,Object(o.a)({initialState:j,reducer:v},e))},E=n(23),L=n(7),I=n(8),C=n.n(I),z=n(17),S=n(21);n(42),n(45),n(47);S.a.initializeApp({apiKey:"AIzaSyC0393pBEnTTKjvkiyTp8uBLk4CZeJmJq0",authDomain:"remonter-de404.firebaseapp.com",databaseURL:"https://remonter-de404.firebaseio.com",projectId:"remonter-de404",storageBucket:"remonter-de404.appspot.com",messagingSenderId:"841182718434",appId:"1:841182718434:web:57da59f8c951f57d66b1bb"});var P=new S.a.auth.GoogleAuthProvider,A=S.a.auth(),D=(S.a.firestore(),{signIn:function(){return A.signInWithPopup(P)}}),R=S.a.database().ref("/setlist"),B={fetchItems:function(){var e=Object(z.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,R.once("value",(function(e){e.forEach((function(e){var n=e.key,r=e.val(),a=r.title,i=r.description,c=r.index,o=r.files,u=r.labels;t.push({id:n,title:a,description:i,index:c,fileName:o[0],labels:u})}))}));case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),addItem:function(){var e=Object(z.a)(C.a.mark((function e(t){var n,r,a,i,c,o;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.item,r=n.title,a=n.description,i=n.index,c=n.fileName,e.next=4,R.push({title:r,description:a,index:i,files:[c]});case 4:return o=e.sent,e.abrupt("return",o.key);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},M=n(4),T=n(3),H=n(35),N=n(12);n.p;n.p;function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function U(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var V=a.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),J=a.a.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),K=function(e){var t=e.svgRef,n=e.title,r=U(e,["svgRef","title"]);return a.a.createElement("svg",F({height:24,viewBox:"0 0 24 24",width:24,ref:t},r),n?a.a.createElement("title",null,n):null,V,J)},X=a.a.forwardRef((function(e,t){return a.a.createElement(K,F({svgRef:t},e))}));n.p;function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function q(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var G=a.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),W=a.a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),Q=function(e){var t=e.svgRef,n=e.title,r=q(e,["svgRef","title"]);return a.a.createElement("svg",Z({height:24,viewBox:"0 0 24 24",width:24,ref:t},r),n?a.a.createElement("title",null,n):null,G,W)},Y=a.a.forwardRef((function(e,t){return a.a.createElement(Q,Z({svgRef:t},e))}));n.p;function $(){return($=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var ee=a.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),te=a.a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"}),ne=function(e){var t=e.svgRef,n=e.title,r=_(e,["svgRef","title"]);return a.a.createElement("svg",$({height:24,viewBox:"0 0 24 24",width:24,ref:t},r),n?a.a.createElement("title",null,n):null,ee,te)},re=a.a.forwardRef((function(e,t){return a.a.createElement(ne,$({svgRef:t},e))}));n.p;function ae(){return(ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ie(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var ce=a.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),oe=a.a.createElement("path",{d:"M12 5.83L15.17 9l1.41-1.41L12 3 7.41 7.59 8.83 9 12 5.83zm0 12.34L8.83 15l-1.41 1.41L12 21l4.59-4.59L15.17 15 12 18.17z"}),ue=function(e){var t=e.svgRef,n=e.title,r=ie(e,["svgRef","title"]);return a.a.createElement("svg",ae({height:24,viewBox:"0 0 24 24",width:24,ref:t},r),n?a.a.createElement("title",null,n):null,ce,oe)},le=a.a.forwardRef((function(e,t){return a.a.createElement(ue,ae({svgRef:t},e))}));n.p;function se(){var e=Object(M.a)(["\n    cursor: pointer;\n    z-index: 1000;\n    border-radius: 50%;\n    position: absolute;\n    ",": 12px;\n    right: 20px;\n    display: flex;\n    padding: 8px;\n    margin: 0;\n    background: ",";\n    border: 1px solid ",";\n    box-shadow: 0 0 4px 0 ",";\n    transition: transform 100ms ease-out, background 100ms ease-out;\n\n    > svg {\n      width: 32px;\n      height: 32px;\n    }\n\n    :hover {\n      background: ",";\n    }\n\n    > {\n    transition: transform 100ms ease-out;\n    }\n\n    :active, >:active {\n      transform: scale(0.97);\n    }\n  "]);return se=function(){return e},e}function be(){var e=Object(M.a)(["\n    cursor: pointer;\n    display: inline-block;\n    color: ",";\n    transition: transform 100ms ease-out;\n    text-decoration: none;\n    padding: 0 0 2px;\n    border-bottom: 2px solid ",";\n    \n    *:active, :active {\n      transform: scaleX(0.97);\n    }\n  "]);return be=function(){return e},e}function fe(){var e=Object(M.a)(["      \n    border-radius: 4px;\n    border: ",";\n    font: 500 12px Consolas;\n    background: ",";\n    outline: none;\n    display: flex;\n    justify-content: center;\n    transition: transform 100ms ease-out;\n    padding: 8px;\n    \n    *:active, :active {\n      transform: scaleX(0.97);\n    }\n  "]);return fe=function(){return e},e}function pe(){var e=Object(M.a)(["\n    font-family: 'Consolas';\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    background: ",";\n    color: ",";\n    max-width: 800px;\n    margin: 0 auto;\n    position: relative;\n    \n    header {\n      position: fixed;\n      top: 0;\n      z-index: 1000;\n      width: 100%;\n      max-width: 800px;\n    }\n    \n    div {\n      box-sizing: border-box;\n    }\n\n    label {\n      display: inline-flex;\n      flex-direction: column;\n      color: ",";\n      margin: 0 16px 0 0;\n\n      span:first-of-type {\n        min-height: 19px;\n      }\n    }\n\n    textarea, input {\n      background: ",";\n      color: ",";\n      margin: 4px 0 16px;\n      border-radius: 4px;\n      border: 1px solid ",";\n      padding: 6px 4px 0;\n      min-width: 24px;\n      font-size: 12px;\n      line-height: 16px;\n      font-weight: 700;\n\n      &::placeholder {\n        color: ",";\n        font-weight: 400;\n      }\n\n      &:focus {\n        outline: "," auto 1px;\n      }\n    }\n\n    input {\n      height: 24px;\n    }\n\n    input:disabled {\n      color: ",";\n    }\n\n    .InputDisabled {\n      background: ",';\n      opacity: 0.8;\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      left: 0;\n      top: 0;\n    }\n\n    input[type="checkbox"] {\n      margin: 8px 16px 20px 0;\n    }\n\n    p {\n      font-size: 16px;\n      line-height: 24px;\n      letter-spacing: -0.6px;\n      font-weight: 300;\n      margin: 0 0 8px 0;\n      color: ',";\n    }\n  "]);return pe=function(){return e},e}function de(){var e=Object(M.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: ",";\n    align-items: ","\n  "]);return de=function(){return e},e}function Oe(){var e=Object(M.a)(["\n    display: flex;\n    justify-content: ",";\n    align-items: ",";\n    ","\n    width: ",";\n    ","\n    >:last-of-type {\n      margin-right: 0 !important;\n    }\n  "]);return Oe=function(){return e},e}function je(){var e=Object(M.a)(["fill: ",""]);return je=function(){return e},e}function ve(){var e=Object(M.a)(["fill: ",""]);return ve=function(){return e},e}function ge(){var e=Object(M.a)(["fill: ",""]);return ge=function(){return e},e}function he(){var e=Object(M.a)(["fill: ",""]);return he=function(){return e},e}var me={red:"#ED3C19",orange:"#D95D39",orangeDark:"#AB3F21",orangeLight:"#DE7254",yellow:"#F9C926",yellowDark:"#DBA906",yellowLight:"#FBD760",green:"#2E8269",greenDark:"#205A4A",greenLight:"#35977A",white:"#F1FAEA",black:"#243230",grayLighter:"#AFBCBC",grayLight:"#808E88",gray:"#334746",grayDark:"#2B3B3A",darken:function(e){return me["".concat(Object.keys(me).find((function(t){return me[t]===e})),"Dark")]||e},lighten:function(e){return me["".concat(Object.keys(me).find((function(t){return me[t]===e})),"Light")]||e}},xe=function(e){var t=e.color,n=void 0===t?me.white:t,r=Object(N.a)(e,["color"]);return Object(T.b)(X,Object.assign({css:Object(T.a)(he(),n)},r))},ye=function(){return Object(T.b)(Y,{css:Object(T.a)(ge(),me.white)})},we=function(e){var t=e.color,n=void 0===t?me.red:t,r=Object(N.a)(e,["color"]);return Object(T.b)(re,Object.assign({css:Object(T.a)(ve(),n)},r))},ke=function(e){var t=e.color,n=void 0===t?me.white:t,r=Object(N.a)(e,["color"]);return Object(T.b)(le,Object.assign({css:Object(T.a)(je(),n)},r))},Ee=function(e){var t=e.align,n=e.valign,r=e.wide,a=e.wrap,i=e.grow,c=Object(N.a)(e,["align","valign","wide","wrap","grow"]);return Object(T.b)("div",Object.assign({css:Object(T.a)(Oe(),t||"space-between",n||"flex-start",i&&"flex-grow: ".concat(i,";"),r?"100%":"auto",a&&"flex-wrap: wrap;")},c))},Le=function(e){var t=e.align,n=e.valign,r=Object(N.a)(e,["align","valign"]);return Object(T.b)("div",Object.assign({css:Object(T.a)(de(),n||"flex-start",t||"flex-start")},r))},Ie=function(e){return Object(T.b)("div",Object.assign({css:Object(T.a)(pe(),me.white,me.black,me.grayLight,me.white,me.black,me.grayLight,me.gray,me.yellowDark,me.grayLight,me.gray,me.white)},e))},Ce=function(e){var t=e.filled,n=Object(N.a)(e,["filled"]);return Object(T.b)("button",Object.assign({css:Object(T.a)(fe(),t?"none":"1px solid ".concat(me.grayLight),t?me.grayLighter:"none")},n))},ze=function(e){return Object(T.b)("div",Object.assign({css:Object(T.a)(be(),me.white,me.red)},e))},Se=function(e){var t=e.top,n=Object(N.a)(e,["top"]);return Object(T.b)(Ce,Object.assign({css:Object(T.a)(se(),t?"top":"bottom",me.black,me.gray,me.grayDark,me.greenDark)},n))};function Pe(){var e=Object(M.a)(["\n      height: ",";\n      width: 100%;\n      ","\n  "]);return Pe=function(){return e},e}function Ae(){var e=Object(M.a)(["\n    box-shadow: none; \n    background: ","; \n    border: none; \n    right: 8px; \n    top: 8px;\n    z-index: 100;\n  "]);return Ae=function(){return e},e}function De(){var e=Object(M.a)(["width: 16px; margin-right: 8px;"]);return De=function(){return e},e}function Re(){var e=Object(M.a)(["\n    margin: 8px 0;\n    width: calc(100% - 48px);\n    font-size: ","px;\n    line-height: 1;\n    max-height: 96px;\n    color: ",";\n    font-variant: all-small-caps;\n  "]);return Re=function(){return e},e}function Be(){var e=Object(M.a)(["\n    color: "," !important;\n    padding: 0 48px 16px 0;\n    width: calc(100% - 48px);\n    ",";\n    ",";\n    ","\n    ","\n    white-space: ",";\n  "]);return Be=function(){return e},e}function Me(){var e=Object(M.a)(["\n          margin: 0 8px 8px 0;\n          flex-wrap: nowrap;\n          flex-shrink: 0;\n          ","\n        "]);return Me=function(){return e},e}function Te(){var e=Object(M.a)(["overflow-x: auto; overflow-y: hidden;"]);return Te=function(){return e},e}function He(){var e=Object(M.a)(["\n      background: ",";\n      color: ",";\n      padding: ",";\n      margin: ",";\n      border-radius: 4px;\n      font-size: 12px;\n      line-height: 14px;\n      box-shadow: 0 2px 4px 0 ","44;\n      position: relative;\n      min-height: ",";\n      max-height: ",";\n      overflow: hidden;\n      transition: all 400ms ease-out;\n      opacity: ",";\n\n      > * {\n        ","\n        flex-shrink: 0;\n      }\n    "]);return He=function(){return e},e}var Ne=function(e){var t=e.collapsed,n=e.fullHeight,r=Object(N.a)(e,["collapsed","fullHeight"]);return Object(T.b)(Le,Object.assign({valign:"space-between",css:Object(T.a)(He(),me.grayLight,me.black,t||n?"0 16px":"0 16px 8px",t||n?0:"0 0 8px 0",me.grayDark,t?0:n?"calc(100vh - 84px)":"134px;",t?0:n?"unset":"268px;",t?0:1,n?"transition: all 400ms cubic-bezier(0.42,0,0.58,1) 300ms;":"transition: all 400ms cubic-bezier(.55,.13,.7,1);")},r))},Fe=function(e){var t=e.onLabelClick,n=e.labels,r=e.activeLabelId;e.rich;return Object(T.b)(Ee,{align:"flex-start",wrap:!0,css:Object(T.a)(Te())},n.map((function(e,n){return Object(T.b)(Ce,{filled:!0,key:n,css:Object(T.a)(Me(),r===e.id&&"background: ".concat(me.yellow,";")),onClick:function(){return t(e)}},e.title)})))},Ue=function(e){var t=e.activeLabel,n=e.description,a=e.rich,i=((t?t.description:n)||"").split("<br />").map((function(e,t){return Object(T.b)(r.Fragment,{key:t},e," ",a&&Object(T.b)("br",null))}));return Object(T.b)("p",{css:Object(T.a)(Be(),a?me.white:me.grayLighter,a?"overflow-y: auto":"overflow: hidden",a?"min-height: 60%":"min-height: 24px",a&&"flex-grow: 1;",!a&&"text-overflow: ellipsis;",a?"pre-line":"nowrap")},i)},Ve=function(e){var t=e.text,n=e.index,r=e.rich;return Object(T.b)("h2",{css:Object(T.a)(Re(),r?24:32,r?me.grayLighter:me.white)},Object(T.b)("span",{css:Object(T.a)(De())},n,"."),t)},Je=function(e){var t=e.togglePreview,n=e.rich;return Object(T.b)(Se,{top:!0,onClick:t,css:Object(T.a)(Ae(),me.grayLighter)},n?Object(T.b)(ye,null):Object(T.b)(ke,null))},Ke=function(e){var t=e.audioTagId,n=e.fileName,r=e.rich;return Object(T.b)("audio",{controls:!0,id:t,css:Object(T.a)(Pe(),r?54:0,r&&"margin: 8px 0;")},Object(T.b)("source",{src:n,type:"audio/mpeg"}))},Xe=function(e){var t=e.item,n=e.togglePreview,a=e.rich,i=e.hidden,c=t.title,l=t.description,s=t.index,b=t.fileName,f="audio-".concat(t.id),p=Object(r.useMemo)((function(){return Object.keys(t.labels||{}).map((function(e){return Object(o.a)(Object(o.a)({},t.labels[e]),{},{id:e})})).sort((function(e,t){return e.time-t.time}))}),[t.labels]),d=Object(r.useState)(),O=Object(u.a)(d,2),j=O[0],v=O[1],g=Object(r.useMemo)((function(){return p.find((function(e){return e.id===j}))}),[j,p]),h=Object(r.useCallback)((function(e){var t=Object(H.a)(p).reverse().find((function(t){return t.time<=e.target.currentTime}));t?j!==t.id&&v(t.id):v(null)}),[p]);Object(r.useEffect)((function(){var e=document.getElementById(f);return e.addEventListener("timeupdate",h),function(){return e.removeEventListener("timeupdate",h)}}),[f,h]);return Object(T.b)(Ne,{collapsed:i,fullHeight:a},Object(T.b)(Ve,{index:s,rich:a,text:c}),Object(T.b)(Ue,{activeLabel:g,description:l,rich:a}),Object(T.b)(Fe,{onLabelClick:function(e){a||n(),function(e){var t=e.time,n=e.audioTagId,r=document.getElementById(n);r.addEventListener("canplaythrough",(function e(){r.currentTime=t,r.play(),r.removeEventListener("canplaythrough",e)})),r.load()}({time:e.time,audioTagId:f})},activeLabelId:j,labels:p,rich:a}),Object(T.b)(Ke,{audioTagId:f,fileName:b,rich:a}),Object(T.b)(Je,{togglePreview:n,rich:a}))},Ze=C.a.mark(Ge),qe=function(e,t){return e.index-t.index};function Ge(){var e;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=1e3;case 1:return e+=1,t.next=5,"id-".concat(e);case 5:t.next=1;break;case 7:case"end":return t.stop()}}),Ze)}var We=Ge();function Qe(){var e=Object(M.a)(["\n            margin: 0 4px 0 2px;\n            align-self: center;\n            font-size: 14px;\n            line-height: 1;\n          "]);return Qe=function(){return e},e}function Ye(){var e=Object(M.a)(["\n            visibility: ",";\n            margin-right: 8px;\n          "]);return Ye=function(){return e},e}function $e(){var e=Object(M.a)(["display: flex; justify-content: flex-end;"]);return $e=function(){return e},e}function _e(){var e=Object(M.a)(["height: 56px;"]);return _e=function(){return e},e}function et(){var e=Object(M.a)(["width: 24px; text-align: center;"]);return et=function(){return e},e}function tt(){var e=Object(M.a)(["margin-top: 12px;"]);return tt=function(){return e},e}function nt(){var e=Object(M.a)(["\n      background: ",";\n      width: 100%;\n      color: ",";\n      padding: 0 16px;\n      position: relative;\n      transition: all 400ms ease-out;\n      height: ",";\n      overflow: hidden;\n      margin-top: ","px;\n      margin-bottom: ","px;\n    "]);return nt=function(){return e},e}function rt(){var e=Object(M.a)(["\n        height: 24px;\n      "]);return rt=function(){return e},e}function at(){var e=Object(M.a)(["\n    position: relative;\n    width: ",";\n  "]);return at=function(){return e},e}function it(){var e=Object(M.a)(["position: fixed; right: unset;"]);return it=function(){return e},e}function ct(){var e=Object(M.a)(["\n    align-self: flex-end;\n    margin-right: 64px;\n  "]);return ct=function(){return e},e}var ot=function(e){return Object(T.b)("div",{css:Object(T.a)(ct())},Object(T.b)(Se,Object.assign({top:!0,css:Object(T.a)(it())},e),Object(T.b)(xe,{color:me.yellow})))},ut=function(e){var t=e.label,n=void 0===t?"":t,r=e.wide,a=void 0!==r&&r,i=Object(N.a)(e,["label","wide"]);return Object(T.b)("label",{css:Object(T.a)(at(),a?"100%":"auto")},Object(T.b)("textarea",Object.assign({placeholder:n,css:Object(T.a)(rt())},i)))},lt=function(e){var t=e.onSubmit,n=e.formVisible,a=Object(r.useState)({title:"",description:"",fileName:"",index:""}),i=Object(u.a)(a,2),c=i[0],l=i[1],s=Object(r.useState)(!0),b=Object(u.a)(s,2),f=b[0],p=b[1];return Object(T.b)("div",{css:Object(T.a)(nt(),me.white,me.grayLight,n?"244px":0,n?24:0,n?32:0)},Object(T.b)("form",null,Object(T.b)(Le,{css:Object(T.a)(tt())},Object(T.b)(Ee,{wide:!0},Object(T.b)(ut,{css:Object(T.a)(et()),label:"Lp.",value:c.index,onChange:function(e){return l(Object(o.a)(Object(o.a)({},c),{},{index:e.target.value}))}}),Object(T.b)(ut,{wide:!0,label:"Tytu\u0142",value:c.title,onChange:function(e){return l(Object(o.a)(Object(o.a)({},c),{},{title:e.target.value}))}})),Object(T.b)(ut,{wide:!0,label:"Opis",value:c.description,css:Object(T.a)(_e()),onChange:function(e){return l(Object(o.a)(Object(o.a)({},c),{},{description:e.target.value}))}}),Object(T.b)(ut,{wide:!0,label:"Nazwa pliku",value:c.fileName,onChange:function(e){return l(Object(o.a)(Object(o.a)({},c),{},{fileName:e.target.value}))}})),Object(T.b)("div",{css:Object(T.a)($e())},Object(T.b)(we,{color:me.red,css:Object(T.a)(Ye(),f?"hidden":"visible")}),Object(T.b)(Ce,{onClick:function(e){return e.preventDefault(),function(e,t){var n=e.title,r=e.index,a=!(!n||!r);return t(a),a}(c,p)&&t(c)},role:"submit"},Object(T.b)(xe,{color:me.green}),Object(T.b)("span",{css:Object(T.a)(Qe())},"Zapisz")))))};function st(){var e=Object(M.a)(["\n  padding: 80px 4px 0;\n  display: flex;\n  flex-direction: column;\n  "]);return st=function(){return e},e}var bt=function(e){return Object(T.b)("div",Object.assign({css:Object(T.a)(st())},e))},ft=function(e){var t=(0,e.useSetlistContext)(),n=t.items,r=t.addItem,a=t.visibility,i=t.setVisibility,c=t.admin;return Object(T.b)(bt,null,Object(T.b)(lt,{onSubmit:r,formVisible:a.form}),n.sort(qe).map((function(e,t){return Object(T.b)(Xe,{key:t,item:e,rich:a.preview===e.id,hidden:a.preview&&a.preview!==e.id,togglePreview:function(){return i({preview:a.preview?null:e.id})}})})),c&&Object(T.b)(ot,{onClick:function(){return i({form:!a.form})}}))};function pt(){var e=Object(M.a)(["\n  padding: 80px 4px 0;\n  display: flex;\n  flex-direction: column;\n  "]);return pt=function(){return e},e}var dt=function(e){return Object(T.b)("div",Object.assign({css:Object(T.a)(pt())},e))},Ot=function(e){var t=(0,e.useLoginContext)(),n=t.submit,r=t.isLoggedIn;return Object(T.b)(dt,null,Object(T.b)((function(){return r?Object(T.b)(L.a,{to:"/"}):null}),null),Object(T.b)("h2",null,"Login"),Object(T.b)(Ce,{onClick:n},"Login with google"))};function jt(){var e=Object(M.a)(["margin-left: 32px"]);return jt=function(){return e},e}function vt(){var e=Object(M.a)(["margin-left: 32px; border-color: ",""]);return vt=function(){return e},e}function gt(){var e=Object(M.a)(["color: ",""]);return gt=function(){return e},e}function ht(){var e=Object(M.a)(["color: ","; margin: 0 4px;"]);return ht=function(){return e},e}function mt(){var e=Object(M.a)(["color: ",""]);return mt=function(){return e},e}function xt(){var e=Object(M.a)(["\n    font-size: 16px;\n    font-weight: 700;\n    font-variant: all-small-caps;\n    letter-spacing: 1px;\n    "]);return xt=function(){return e},e}function yt(){var e=Object(M.a)(["letter-spacing: 2px;"]);return yt=function(){return e},e}function wt(){var e=Object(M.a)(["\n    display: inline-flex;\n    flex-direction: column; \n    margin: 0;\n    padding: 0;\n    line-height: 1;\n  "]);return wt=function(){return e},e}function kt(){var e=Object(M.a)(["\n  background: ",";\n  color: ",";\n  padding: 12px 16px;\n  box-shadow: 0 0 4px #000;\n  "]);return kt=function(){return e},e}var Et=function(e){return Object(T.b)("div",Object.assign({css:Object(T.a)(kt(),me.black,me.white)},e))},Lt=function(){return Object(T.b)("h1",{css:Object(T.a)(wt())},Object(T.b)("span",{css:Object(T.a)(yt())},"remonter"),Object(T.b)("small",{css:Object(T.a)(xt())},Object(T.b)("span",{css:Object(T.a)(mt(),me.green)},"Mentalnego"),Object(T.b)("span",{css:Object(T.a)(ht(),me.red)},"Remontu"),Object(T.b)("span",{css:Object(T.a)(gt(),me.yellow)},"Plan")))},It=function(){return Object(T.b)(E.b,{to:"/login"},Object(T.b)(ze,{css:Object(T.a)(vt(),me.greenLight)},"Log in"))},Ct=function(){return Object(T.b)(ze,{css:Object(T.a)(jt()),onClick:function(){return A.signOut()}},"Log out")},zt=function(e){var t=(0,e.useHeaderContext)().user;return Object(T.b)(Et,null,Object(T.b)(Lt,null),t?Object(T.b)(Ct,null):Object(T.b)(It,null))},St=function(){var e=function(){var e;return{user:!!(null===(e=y().state.user)||void 0===e?void 0:e.token)}};return function(){return a.a.createElement(zt,{useHeaderContext:e})}}(),Pt=function(e){var t=e.DataService,n=function(){var e=y(),n=e.state,a=e.actions,i=n.setlist,c=n.user,l="admin"===(null===c||void 0===c?void 0:c.role),s=Object(r.useState)({form:!1,preview:null}),b=Object(u.a)(s,2),f=b[0],p=b[1],d=Object(r.useCallback)(t.fetchItems,[]),O=Object(r.useCallback)(a.setlist.setItems,[]);Object(r.useEffect)((function(){(function(){var e=Object(z.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=O,e.next=3,d();case 3:return e.t1=e.sent,e.t2={items:e.t1},e.abrupt("return",(0,e.t0)(e.t2));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[d,O]);var j=function(){var e=Object(z.a)(C.a.mark((function e(n){var r,i;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(o.a)(Object(o.a)({},n),{},{id:We.next().value}),a.setlist.addItem({item:r}),e.next=4,t.addItem({item:n});case 4:i=e.sent,a.setlist.updateItem({id:r.id,item:{id:i}});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{items:Object.keys(i).map((function(e){return i[e]})),addItem:j,visibility:f,setVisibility:p,admin:l}};return function(){return a.a.createElement(ft,{useSetlistContext:n})}}({DataService:B}),At=function(e){var t=e.AuthProvider,n=function(){var e=y().state.user;return{submit:function(){var e=Object(z.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.signIn();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),isLoggedIn:!!(null===e||void 0===e?void 0:e.token),user:e}};return function(){return a.a.createElement(Ot,{useLoginContext:n})}}({AuthProvider:D}),Dt=function(){return a.a.createElement(E.a,{basename:"/"},a.a.createElement("header",null,a.a.createElement(St,null)),a.a.createElement("main",null,a.a.createElement(L.b,{exact:!0,path:"/",component:Pt}),a.a.createElement(L.b,{path:"/login",component:At}),a.a.createElement(L.a,{to:"/"})))},Rt=function(e){var t=e.children;return function(e){var t=e.Auth,n=y(),a=n.state,i=n.actions,c=Object(r.useMemo)((function(){return t}),[t]),o=Object(r.useMemo)((function(){return a.user}),[a.user]),u=Object(r.useCallback)(i.user.setUser,[]);Object(r.useEffect)((function(){return function(e){return c.onAuthStateChanged(Object(z.a)(C.a.mark((function t(){var n,r,a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===(r=c.currentUser)||void 0===r?void 0:r.getIdToken();case 2:if(t.t1=n=t.sent,t.t0=null!==t.t1,!t.t0){t.next=6;break}t.t0=void 0!==n;case 6:if(!t.t0){t.next=10;break}t.t2=n,t.next=11;break;case 10:t.t2=!1;case 11:(a=t.t2)?a!==o.token&&e({user:{role:"admin",token:a}}):e(null);case 13:case"end":return t.stop()}}),t)}))))}(u)}),[c,o,u])}({Auth:A}),t},Bt=function(){return a.a.createElement(k,null,a.a.createElement(Rt,null,a.a.createElement(Ie,null,a.a.createElement(Dt,null))))};c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(Bt,null)),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.00b6bbc6.chunk.js.map